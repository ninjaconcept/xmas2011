(function(a){a.fn.snowfall=function(m){var g=this;d=function d(n,i){return Math.round(n+Math.random()*(i-n))};function c(q,p,o,n){this.id=e;this.x=q;this.y=p;this.size=o;this.speed=n;this.step=0,this.stepSize=d(1,10)/100;var i="<div class='flakes' id='flake-"+this.id+"' style='width: "+this.size+"px; height: "+this.size+"px; top: "+this.y+"px; left:"+this.x+"px; z-index: "+m.flakeIndex+";'></div>";if(a(g).get(0).tagName===a(document).get(0).tagName){a("body").append(i)}else{a(g).append(i)}this.element=document.getElementById("flake-"+this.id);this.update=function(){this.y+=this.speed;if(this.y>(j)-6){this.reset()}this.element.style.top=this.y+"px";this.element.style.left=this.x+"px";this.step+=this.stepSize;this.x+=Math.cos(this.step);if(this.x>(l)-6||this.x<6){this.reset()}};this.reset=function(){this.y=0;this.x=d(0,l);this.stepSize=d(1,10)/100;this.size=d((m.minSize*100),(m.maxSize*100))/100;this.speed=d(m.minSpeed,m.maxSpeed)}}var k=[],e=0,h=0,j=a(g).height(),l=a(g).width(),f={flakeCount:35,flakeColor:"#ffffff",flakeIndex:999999,minSize:1,maxSize:3,minSpeed:2,maxSpeed:3},m=a.extend(f,m);a(window).bind("resize",function(){j=a(g).height();l=a(g).width()});for(h=0;h<m.flakeCount;h+=1){e=h;k[h]=new c(d(0,l),d(0,j),d((m.minSize*100),(m.maxSize*100))/100,d(m.minSpeed,m.maxSpeed))}function b(){for(h=0;h<m.flakeCount;h+=1){k[h].update()}setTimeout(function(){b()},50)}b()}})(jQuery);